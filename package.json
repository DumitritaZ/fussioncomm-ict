{
  "name": "fussioncomm-site",
  "private": true,
  "version": "1.0.0",
  "description": "Build scripts for protected delivery (dist/).",
  "scripts": {
    "clean": "rimraf dist",
    "copy:static": "cpy \"assets/**/*\" \"content/**/*\" dist --parents",
    "obfuscate:js": "javascript-obfuscator assets/app.js --output dist/assets/app.js --compact true --controlFlowFlattening true --stringArray true --stringArrayThreshold 1 && javascript-obfuscator assets/script.js --output dist/assets/script.js --compact true --controlFlowFlattening true --stringArray true --stringArrayThreshold 1",
    "minify:css": "csso assets/style.css --output dist/assets/style.css",
    "minify:html": "node build/minify-html.js",
    "build": "npm-run-all clean copy:static obfuscate:js minify:css minify:html",
    "serve:dist": "http-server dist -p 5050 -c-1",
    "protect:images:mkdir": "shx mkdir -p protected",
    "protect:images:watermark:jpg": "magick mogrify -path protected -gravity SouthEast -fill \"#FFFFFFA0\" -pointsize 28 -annotate +16+12 \"© FussionComm ICT — Review only\" assets/upload/*.jpg",
    "protect:images:watermark:png": "magick mogrify -path protected -gravity SouthEast -fill \"#FFFFFFA0\" -pointsize 28 -annotate +16+12 \"© FussionComm ICT — Review only\" assets/upload/*.png",
    "protect:images:meta": "exiftool -overwrite_original -Artist=\"FussionComm ICT\" -Copyright=\"© 2025 FussionComm ICT. All rights reserved.\" -Rights=\"Preview only. No reproduction.\" -Credit=\"FussionComm ICT\" -Source=\"FussionComm ICT\" protected/*.*",
    "protect:images": "npm-run-all protect:images:mkdir protect:images:watermark:jpg protect:images:watermark:png protect:images:meta"
  },
  "devDependencies": {
    "cpy-cli": "^5.0.0",
    "csso": "^5.0.5",
    "html-minifier-terser": "^7.2.0",
    "http-server": "^14.1.1",
    "javascript-obfuscator": "^4.1.0",
    "npm-run-all": "^4.1.5",
    "rimraf": "^5.0.5",
    "shx": "^0.3.4"
  }
}
